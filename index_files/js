(function(){if(!window.cmsInitialized){function i(){document.readyState==="complete"?setTimeout(t):document.addEventListener?(document.addEventListener("DOMContentLoaded",n,!1),window.addEventListener("load",n,!1)):(document.attachEvent("onreadystatechange",n),window.attachEvent("onload",n))}function n(n){(document.addEventListener||n.type==="load"||document.readyState==="complete")&&(r(),t())}function r(){document.addEventListener?(document.removeEventListener("DOMContentLoaded",n,!1),window.removeEventListener("load",n,!1)):(document.detachEvent("onreadystatechange",n),window.detachEvent("onload",n))}function t(){function o(n,t){var i=t?t:[];return $('div[data-size="'+n+'"]:not([data-loaded])').each(function(){var n=$(this),t={PageName:n.data("page"),ZoneName:n.data("zonename"),ZoneSize:n.data("size"),ZoneLangCode:n.data("lang")};i.push(t)}),i}function v(n){if(n.length!==0){var t=JSON.stringify(n);$.ajax({dataType:"json",contentType:"application/json; charset=utf-8",type:"POST",url:"/en-us/cms/content",data:t,success:function(n){if(n)for(var r,u,f,i,e=n.length,t=0;t<e;t++)r=n[t].PageName.toLocaleLowerCase(),u=n[t].ZoneName.toLowerCase(),f=n[t].ZoneSize.toLowerCase(),$('div[data-page="'+r+'"][data-zonename="'+u+'"][data-size="'+f+'"]').each(function(){try{i=$(this).html(n[t].ZoneContent);i.attr("data-loaded",1);n[t].FromPreview===!0&&i.attr("data-preview",!0)}catch(r){typeof console=="object"&&typeof console.log=="function"&&console.log(r)}})}})}}for(var u=["xs","sm","md","lg"],s=u.length,h={},t,c,f,l,r,e,i,n=0;n<s;n++)t=u[n],c="windowSizeIdentifier-"+t,f=$("<div/>").attr("id",c).addClass("visible-"+t),h[t]=f,$("body").prepend(f);if(window.LoadNewZones=function(){var r="",i;for(n=0;n<s;n++)if(t=u[n],h[t].is(":visible")===!0){r=t;break}i=[];switch(r){case"xs":o("small",i);break;default:o("large",i)}o("any",i);i.length>0&&v(i)},$(window).resize(function(){LoadNewZones()}),!1){l=/previewChangesetId=([^&;]+)/g;r=l.exec(document.location.search);r&&r.length>1&&(document.cookie="previewChangesetId="+r[1]+";path=/");function a(n){var t=document.cookie.match(new RegExp("(?:^|; )"+n.replace(/([\.$?*|{}\(\)\[\]\\\/\+^])/g,"\\$1")+"=([^;]*)"));return t?decodeURIComponent(t[1]):undefined}if(e=a("previewChangesetId"),e){$("body").prepend('<div id="cmsPreview" style="position:fixed; top:8px; right:10px; padding:5px 8px; width:200px; background-color:#ed9c28; z-index:99999999; color:white; cursor:move; opacity:.95; border-radius: 3px; text-shadow: 0 0 2px #626262"><span style="font-size: 15px; font-weight: bold; display: block; margin-bottom: 5px; border-bottom: 1px solid #fff"><i class="glyphicon glyphicon-eye-open"><\/i> Preview Mode<\/span>Changeset ID: #'+e+'<br><input type="checkbox" id="highlightChanges" style="margin-right: 5px; margin-top: 2px; height: 16px; width: 16px; float: left; cursor: pointer"/><label for="highlightChanges" style="font-weight: normal; cursor: pointer">Highlight Changes<\/label><br/><a href="javascript:cmsExitPreview();" style="text-shadow: none; margin-top: 5px; color: #444; text-decoration: underline; font-size: 12px;">Exit Preview<\/a><\/div>');i=$("#cmsPreview");i.mousedown(function(n){var t=n.clientY-parseInt(i.position().top),r=n.clientX-parseInt(i.position().left);$(window).mousemove(function(n){i.css("top",n.clientY-t+"px").css("left",n.clientX-r+"px")})});$(window).mouseup(function(){$(this).off("mousemove")});i.on("change","#highlightChanges",function(){var n=$("[data-page][data-zonename][data-preview=true]");$(this).prop("checked")?(n.each(function(){$(this).css("box-shadow")!=="none"&&$(this).attr("data-box-shadow",$(this).css("box-shadow"))}),n.css("box-shadow","0px 0px 0px 4px yellow")):n.each(function(){$(this).attr("data-box-shadow")!==undefined?$(this).css("box-shadow",$(this).attr("data-box-shadow")):$(this).css("box-shadow","none")})})}}LoadNewZones()}window.cmsExitPreview=function(){document.cookie="previewChangesetId=;path=/;expires=Thu, 01 Jan 1970 00:00:01 GMT;";$("#cmsPreview").remove();window.location.href=window.location.href.replace(/(\?|&)previewChangesetId=\d+/,"")};window.cmsInitialized=!0;i()}})()